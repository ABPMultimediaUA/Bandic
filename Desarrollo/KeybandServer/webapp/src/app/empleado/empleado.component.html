<div class="container buscadorProducto">
  <form (ngSubmit)="onChange($event, dniE.value, nombreE.value, apellidosE.value, localidadE.value, provinciaE.value, paisE.value, orderE.value)" class="form-inline formulario">
    <div class="form-group">
      <input placeholder="Dni" class="form-control id" name="id" #dniE type="text" maxlength="12">
      <input placeholder="Nombre" name="nombre" #nombreE class="short form-control" type="text">
      <input placeholder="Apellidos" name="nombre" #apellidosE class="form-control" type="text">
      <input placeholder="Localidad" name="nombre" #localidadE class="short form-control" type="text">
      <input placeholder="Provincia" name="nombre" #provinciaE class="short form-control" type="text">
      <input placeholder="País" name="nombre" class="short form-control" type="text" #paisE>
        <button type="submit" style="margin-left: 2.8em; margin-bottom: .1em" class="form-control" class="buscar btn btn-default confirmation-modal" title="Detalle">   
                <span class="icon icon-search"></span>Buscar
        </button>
        <div style="margin-bottom: .6em" class="btn-group" role="group" aria-label="...">
          <a href="#" data-toggle="modal" data-target="#registroEmp"> <button type="button" (click)="rellenarUsu('');" class="btn btn-default">Nuevo empleado</button></a>
        </div>
<div style="float: right; margin-right: 1em; margin-top: 1em;">
    <select class="input-xs form-control" name="categoria" #orderE>
        <option selected="selected" [disabled]="item === Ordenar" [ngValue]="item">Ordenar por:</option>
        <option>Dni</option>
        <option>Nombre</option>
        <option>Apellidos</option>
        <option>Localidad</option>
        <option>Provincia</option>
        <option>País</option>
      </select>
</div>
    </div>
  </form>
</div>
  
     <!-- Modal REGISTRO-->
          

             <div class="modal fade clearfix" id="registroEmp" role="dialog">
               <div id="responsive-form2">
               <div class="modal-dialog">
                 <!-- Modal content-->
                 <div class="modal-content">
                   <div class="modal-header">
                     <img src="./images/KeybandApp.png" alt="..."width="70" height="50" class="logoKeyband">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                     <h3 class="modal-title">{{title}}</h3>
                   </div>
                   <div class="modal-body">
                       <form name="contact_form" role="form" class="form-horizontal" #loginForm="ngForm">
                        <label style="margin-left:2em;"><small>(*) Campos obligatorios</small></label> 
                       <fieldset>
						   
                       <!-- Identificador input-->
                        <div class="col-md-3 form-group hola" style="padding-right: 2em;">
                            <label class="control-label" id="errorDni" for="dni">DNI(*)</label>  
                         <div class="form-group">
                            <input class="form-control input-md" value="{{palabra.dni}}" name="dniiE" [ngModel]="dniiE" (ngModelChange)="validarDni($event)" id="dni" type="text" #dni placeholder="ej:11111111A" required="" autofocus [attr.maxlength]="maxLength">
                         </div>
                       </div>

                       <div class="col-md-4 form-group" style="padding-left: 2em;">
                         <label class="control-label" for="nombre">Nombre(*)</label>  
                         <div class="form-group">
                         <input id="nombre" name="nombre" value="{{palabra.nombre}}" name="nombree" [ngModel]="" (ngModelChange)="camposOblig($event, 'n')" type="text" #nombre placeholder="Introduzca nombre" class="form-control input-md" required="" [attr.maxlength]="maxLength2">
                           
                         </div>
                       </div>

                       <!-- Descripción input-->
                       <div class="col-md-5 form-group">
                         <label class="control-label" for="contra">Apellidos(*)</label>
                         <div class="form-group">
                           <input id="contra" value="{{palabra.apellidos}}" type="text" name="apellidoss" [ngModel]="" (ngModelChange)="camposOblig($event, 'a')" #apellidos placeholder="Introduzca apellidos" class="form-control input-md" required="" [attr.maxlength]="maxLength2">
                         </div>
                       </div>

                        <div class="col-md-3 form-group hola" id="contradiv" style="padding-right: 2em;">
                          <label class="control-label" for="password">Contraseña(*)</label>  
                          <div class="form-group">
                              <input id="password" name="passwordd" value="{{palabra.password}}" [ngModel]="" (ngModelChange)="camposOblig($event, 'c')" type="password" #password placeholder="Introduzca contraseña" class="form-control input-md" required="" autofocus [attr.maxlength]="maxLength2">
                            <!--<span class="error" id="errorusu">Nombre no disponible.</span>-->
                          </div>
                        </div>
  

					            <div class="col-md-4 form-group" style="padding-left: 2em;">
                         <label class="control-label" id="errorEmail" for="contra">Email(*)</label>
                         <div class="form-group">
                           <input value="{{palabra.email}}" name="emaillE" [ngModel]="emaillE" (ngModelChange)="validarEmail($event)" id="email" type="text" #email placeholder="Introduzca email" class="form-control input-md" required="" [attr.maxlength]="maxLength2">
                         </div>
                       </div>

					      
					            <div class="col-md-3 form-group">
                         <label class="control-label" for="fecha">Fecha de nacimiento(*)</label>
                         <div class="form-group">
                           <input id="fecha" value="{{palabra.fecha_nacimiento}}" name="fechaNac" [ngModel]="" (ngModelChange)="camposOblig($event, 'f')" type="date" #fechanacimiento class="form-control input-md" required="">
                         </div>
                       </div>

					       <div class="col-md-2 form-group">
                         <label class="control-label" for="sexo">Sexo(*)</label>
                         <div class="form-group">
                           <select id="sexo" name="sexo" value="" type="text" name="sexoo" [ngModel]="" (ngModelChange)="camposOblig($event, 's')" #sexo class="form-control input-md" required="" >
							   <option [disabled]="item === Seleccionar" [ngValue]="item">Seleccionar</option>
								  <option value="H">Hombre</option>
    								<option value="M">Mujer</option>
                           </select>
                         </div>
                       </div>

					   <div class="col-md-3 form-group hola" style="padding-right: 2em;">
                         <label class="control-label" for="fecha_entrada">Fecha de entrada</label>
                         <div class="form-group">
                           <input id="fecha_entrada" name="fecha_entrada" value="{{palabra.fecha_entrada}}" type="date" #fechaentrada class="form-control input-md">
                         </div>
                       </div>
             
					            <div class="col-md-3 form-group" style="padding-left: 2em;">
                         <label class="control-label" for="contra">Localidad</label>
                         <div class="form-group">
                           <input id="contra" name="contra" value="{{palabra.localidad}}" type="text" #localidad placeholder="Introduzca localidad" class="form-control input-md" required="" [attr.maxlength]="maxLength2">
                         </div>
                       </div>

					     <div class="col-md-3 form-group">
                         <label class="control-label" for="contra">Provincia</label>
                         <div class="form-group">
                           <input id="contra" name="contra" value="{{palabra.provincia}}" type="text" #provincia placeholder="Introduzca provincia" class="form-control input-md" required="" [attr.maxlength]="maxLength2">
                         </div>
                       </div>

					     <div class="col-md-3 form-group">
                         <label class="control-label" for="contra">Pais(*)</label>
                         <div class="form-group">
                           <input id="contra" value="{{palabra.pais}}" name="paiss" [ngModel]="" (ngModelChange)="camposOblig($event, 'p')" type="text" #pais placeholder="Introduzca pais" class="form-control input-md" required="" [attr.maxlength]="maxLength2">
						   
                         </div>
                       </div>

                        <div class="col-md-3 form-group hola hola2" style="padding-bottom: 2em; padding-right: 2em;">
                         <label class="control-label" for="fecha_salida">Fecha de salida</label>
                         <div class="form-group">
                           <input id="fecha_salida" name="fecha_salida" value="{{palabra.fecha_salida}}" type="date" #fechasalida class="form-control input-md">
                         </div>
                       </div>

                       <div class="col-md-3 form-group" id="divpulseras" style="padding-left: 2em;">
                        <h4 class="modal-title">Asignar pulsera</h4>
                         <label class="control-label" for="pulseraid">Pulseras sin asignar:</label>
                         <div class="form-group">
                           <select id="pulseraid" name="producto" value="" type="text" #pulseraid class="form-control input-md" >
                            <option value=""></option>
                              <option *ngFor= "let pulsera of pulseras | keys" value="{{pulsera.value.id}}">{{pulsera.value.id}}</option>
                           </select>
                         </div>
                       </div>

                       <div style="margin-bottom: 3em" class="col-md-6 form-group"  *ngIf="initialized">
                        <h4 class="modal-title">Asignar habitación y roles</h4>
                        <label class="col-md-3 col-sm-3 col-xs-12 control-label" style="padding-right: 7em;">Disponibles:</label>
                          <br>                  
                          <div id="container" class="container con2 col-md-9 col-sm-9 col-xs-12">
                            <div *ngFor="let Permiso of roles | keys">
                              <label><input type="checkbox" ngControl="roles" [checked]=Permiso.value.checked value={{Permiso.value.value}} (change)="updateP03(Permiso,$event)">{{Permiso.value.name}}</label>                              
                            </div>
                        </div>
                      </div>
                          
                       <!-- Button -->
                  
                       <div style="padding-top: 12em;" class="form-group">
                           <button data-dismiss="modal" class="col-md-2 btn btn-primary">Cancelar</button>
                           <input type="submit" data-dismiss="modal" value="Continuar" (click)="crearUsuario($event, dni.value, password.value, nombre.value, apellidos.value, email.value, fechanacimiento.value, sexo.value, localidad.value, provincia.value, pais.value, pulseraid.value, fechaentrada.value, fechasalida.value)" id="submitEmpleado" style="float:right;" class="col-md-2 btn btn-primary" disabled>
                           <span id="camposOblig4" style="color: red; margin-left: 12em;">Por favor, rellena los campos obligatorios</span>
                       </div>

                       </fieldset>
                       </form>        
                   </div>
                 </div>            
               </div>
               </div>
             </div>





     <!-- Modal AL DARLE A LOS TRES PUNTOS-->
             <div class="modal fade" id="pulseras" role="dialog" >
               <div class="modal-dialog">
                 <!-- Modal content-->
                 <div class="modal-content">
                   <div class="modal-header">
                     <button type="button" class="close" data-dismiss="modal">&times;</button>
                     <h4 class="modal-title">Pulseras</h4>
                   </div>
                   <div class="modal-body">


                       <form name="contact_form" role="form" class="form-horizontal" #loginForm="ngForm" (ngSubmit)="cambiarPulsera($event, id.value, usuario.value)">
                       <fieldset>
                                        <h4 class="modal-title">Asignar nueva pulsera</h4>
                                    <div class="form-group">
                         <label class="col-md-4 control-label" for="usuario">Usuario</label>  
                         <div class="col-md-6" >
                             <input id="usuario" name="user" value="{{usuariopulsera}}" type="text" #usuario placeholder="Introduzca identificador" class="form-control input-md" required="" disabled>
                          
                         </div>
                       </div>
                    
					      <div class="form-group">
                         <label class="col-md-4 control-label" for="id">Pulseras sin asignar:</label>
                         <div class="col-md-6">
                           <select id="id" name="producto" value="" type="text" #id class="form-control input-md" required="">
							   <option value=""></option>
                  <option *ngFor= "let pulsera of pulseras | keys" value="{{pulsera.value.id}}">{{pulsera.value.id}}</option>
							
                           </select>
                         </div>
                       </div>
                       <div>
                       *Al asignar una nueva pulsera la anterior será inhabilitada.
                         </div> 
                         <br>
                         <br>
	<div class="table-responsive">
    	 <h4 class="modal-title">Pulsera actual</h4>
			<table class="table table-striped table-bordered table-hover">
        
				<thead style="color: white;background: #2a3f54 ;">
					<tr>				
					
				<th class="text-center">Usuario</th>
						<th class="text-center">Pulsera</th>
						<th class="text-center">Estado</th>
			
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let pulsera of pulsera_actual | keys">

						<td>{{pulsera.value.usuario}}</td>
						<td>{{pulsera.value.id}}</td>
						<td>{{pulsera.value.estado_pulsera}}</td>
		
					</tr>
				</tbody>
			</table> 
	 <h4 class="modal-title">Pulseras inactivas</h4>
			<table class="table table-striped table-bordered table-hover">
			<thead style="color: white;background: #2a3f54 ;">
					<tr>				
					
				<th class="text-center">Usuario</th>
						<th class="text-center">Pulsera</th>
						<th class="text-center">Estado</th>
			
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let pulseras of pulseras_perdidas | keys">

						<td>{{pulseras.value.usuario}}</td>
						<td>{{pulseras.value.id}}</td>
						<td>{{pulseras.value.estado_pulsera}}</td>
		
					</tr>
				</tbody>
			</table> 

		</div>




                        
                        
                          <div class="form-group">
                         <label class="col-md-8 control-label"></label>
                         <div style="margin-left: 27em;" class="col-md-5">
                           <br>
                            
                           <button type="submit" class="btn btn-primary">Cambiar pulsera</button>
   <button data-dismiss="modal"class="btn btn-default">Cerrar</button>
                         
                         </div>
                      
                       </div>

                       

                       </fieldset>
                       </form>        
                   </div>
                 </div>            
               </div>
             </div>


                  <!--MODAL DELETE USUARIO-->
          <div class="modal fade" id="borrarEmp" role="dialog">
                 <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <img src="./images/KeybandApp.png" alt="..."width="70" height="50" class="logoKeyband">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Eliminar empleado</h4>
                      </div>
                      <div class="modal-body">
                        <h5>El empleado {{UsuarioDNI}} se va a eliminar.</h5>
                        <div class="form-group botonesDel">
                            <button type="submit" data-dismiss="modal" aria-label="Close" (click)="borrarEmpleado(usuario.value.dni);" class="btn btn-primary">Confirmar</button>
                            <button type="submit" data-dismiss="modal" aria-label="Close" class="btn btn-primary">Cancelar</button>
                        </div>
                      </div>
                    </div>
                </div>
               </div>


<div class="panel-body">
		
		<div class="table-responsive">
			<table class="table table-striped table-bordered table-hover">
			<thead style="color: white;background: #2a3f54 ;">
					<tr>				
						<th class="text-center column80">Acciones</th>
						<th class="text-center">DNI</th>
						<th class="text-center">Nombre</th>
						<th class="text-center">Apellidos</th>
						<th class="text-center">Email</th>
						
						<th class="text-center">Sexo</th>
						<th class="text-center">Localidad</th>
						<th class="text-center">Provincia</th>
						<th class="text-center">Pais</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let usuario of empleados | keys">
						<td>
                <a href="#" data-toggle="modal" data-target="#registro">
                  <button (click)="rellenarUsu(usuario.value.dni);" style="background-color:#F88A3D"  class="btn btn-default btn-xs confirmation-modal" title="editar">
                      <span class="glyphicon glyphicon-edit" style="color:white" ></span>
                  </button>
                </a>
                <a href="#" data-toggle="modal" data-target="#pulseras">
                  <button (click)="usuarioPulseras(usuario.value.dni)"  style="background-color:#68B6E9" class="btn btn-default btn-xs confirmation-modal" title="pulseras">
                      <span class="glyphicon glyphicon-option-vertical" style="color:white" ></span>
                  </button>
                </a>
            </td>
						<td>{{usuario.value.dni}}</td>
						<td>{{usuario.value.nombre}}</td>
						<td>{{usuario.value.apellidos}}</td>
						<td>{{usuario.value.email}}</td>
						
						<td>{{usuario.value.sexo}}</td>
						<td>{{usuario.value.localidad}}</td>
						<td>{{usuario.value.provincia}}</td>
						<td>{{usuario.value.pais}}</td>
					</tr>
				</tbody>
			</table> 
		</div>
	</div>
   <div class="pagination">
      <button class="arrows" (click)="lastPage();" href="#">&laquo;</button>
        <span>{{init_page}} de {{pages}}</span>
      <button class="arrows" (click)="nextPage();" href="#">&raquo;</button>
  </div> 